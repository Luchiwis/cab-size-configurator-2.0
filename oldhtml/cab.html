<!DOCTYPE html>
<html lang="en">


<body data-bs-theme="light">
    <header class="text-center border-bottom">

        <div>
            <h1 class="display-4 mt-2"><a href="index.html" class="nav-link px-2">Cab Size Configurator</a></h1>
        </div>
        
    </header>

    <!-- script stuff -->
    <script src="js/bootstrap.js"></script>
    <script src="js/metricConversion.js"></script>
    <script src="js/prependQueryString.js"></script>
    <script src="js/guide.js"></script>
    <script src="js/sizeCalculation.js"></script>
    <script src="js/tableSizeUpdater.js"></script>
    <script src="js/errorMessages.js"></script>
    <script src="js/restrictions.js"></script>

    <!-- custom form -->
    <script>
        function customSubmit() {
            //check required inputs
            let valid = true;
            let requiredInputs = document.querySelectorAll('form input:required, form select:required');
            requiredInputs.forEach(input => {
                if (input.value == '') {
                    input.classList.add('is-invalid');
                    valid = false;
                } else {
                    input.classList.remove('is-invalid');
                }

            });
            //check if valid minimum size and maximum size number inputs
            let numberInputs = document.querySelectorAll('form input[type="number"]');
            numberInputs.forEach(input => {
                if (Number(input.value) < Number(input.min) || Number(input.value) > Number(input.max)) {
                    input.classList.add('is-invalid');
                    valid = false;
                } else {
                    input.classList.remove('is-invalid');
                }
            });

            if (!valid) {
                errorBox.showError("some of the sizes are not valid for the standard cab sizes. Please consult factory for custom cab sizes.")
                return;
            }


            document.querySelectorAll('#cab-width, #cab-depth').forEach(input => {
                input.disabled = true;
            });
            addHiddenInput('overall-width', elevatorData.overallWidth);
            addHiddenInput('overall-depth', elevatorData.overallDepth);
            addHiddenInput('inner-width', elevatorData.innerWidth);
            addHiddenInput('inner-depth', elevatorData.innerDepth);
            addHiddenInput('hoistway-width', elevatorData.hoistwayWidth);
            addHiddenInput('hoistway-depth', elevatorData.hoistwayDepth);

            //submit form
            document.querySelector('form').submit();
        }
    </script>
</body>

</html>